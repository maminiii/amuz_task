{"ast":null,"code":"var _jsxFileName = \"/Users/developer/task/task3/src/components/AvatarGroupsWithAction.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useRecoilState } from \"recoil\";\nimport { atomIsLoaded } from \"../data/atoms\";\nimport { deleteComment } from \"../store/modelDucks/Comment\";\nimport FlexBox from \"./FlexBox\";\n/* This example requires Tailwind CSS v2.0+ */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AvatarGroupsWithAction(_ref) {\n  _s();\n\n  let {\n    commentList\n  } = _ref;\n  const [toggleViewAll, setToggleViewAll] = useState(false);\n  const [isShowTips, setIsShowTips] = useState(false);\n  const [selectedId, setSelectedId] = useState(0);\n  const [isLoaded, setIsLoaded] = useRecoilState(atomIsLoaded);\n  const dispatch = useDispatch();\n\n  const handleDelete = idx => {\n    dispatch(deleteComment(idx));\n  };\n\n  const handleViewAll = () => {\n    setToggleViewAll(prev => !prev);\n  };\n\n  useEffect(() => {\n    if (!toggleViewAll) window.scrollTo(0, 0);\n  }, [toggleViewAll]);\n\n  const handleMore = (type, id) => {\n    setIsShowTips(prev => !prev);\n    if (type === \"enter\") setSelectedId(id);else if (type === \"leave\") setSelectedId(9999);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flow-root mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: \"10px\"\n          },\n          children: `comments: ${commentList.length ? commentList.length : \"0\"}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), commentList.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          role: \"list\",\n          className: \"-my-5 divide-y divide-gray-200\",\n          children: commentList.map((item, idx) => {\n            if (toggleViewAll || idx < 3) return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"py-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0\",\n                  children: item !== null && item !== void 0 && item.imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"h-8 w-8 rounded-full\",\n                    src: item === null || item === void 0 ? void 0 : item.imageUrl,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 48,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"h-8 w-8 rounded-full\",\n                    style: {\n                      backgroundColor: \"pink\"\n                    },\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 54,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 46,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 min-w-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-base font-medium text-gray-900 truncate\",\n                    children: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 62,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500 \",\n                    children: item.body\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col justify-center items-stretch h-full\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-3 inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50\",\n                    children: \"Update\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    onClick: () => {\n                      handleDelete(item.id);\n                    },\n                    className: \"inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50\",\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 71,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 23\n              }, this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(FlexBox, {\n          justify: \"center\",\n          style: {\n            width: \"100%\"\n          },\n          children: \"no comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), commentList.length > 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: handleViewAll,\n          className: \"w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",\n          children: toggleViewAll ? \"View less\" : \"View all\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(AvatarGroupsWithAction, \"82o/3JXyPdC216vHGW6GQpTDFdY=\", false, function () {\n  return [useRecoilState, useDispatch];\n});\n\n_c = AvatarGroupsWithAction;\n\nvar _c;\n\n$RefreshReg$(_c, \"AvatarGroupsWithAction\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useRecoilState","atomIsLoaded","deleteComment","FlexBox","AvatarGroupsWithAction","commentList","toggleViewAll","setToggleViewAll","isShowTips","setIsShowTips","selectedId","setSelectedId","isLoaded","setIsLoaded","dispatch","handleDelete","idx","handleViewAll","prev","window","scrollTo","handleMore","type","id","marginBottom","length","map","item","imageUrl","backgroundColor","name","body","width"],"sources":["/Users/developer/task/task3/src/components/AvatarGroupsWithAction.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useRecoilState } from \"recoil\";\nimport { atomIsLoaded } from \"../data/atoms\";\nimport { deleteComment } from \"../store/modelDucks/Comment\";\nimport FlexBox from \"./FlexBox\";\n/* This example requires Tailwind CSS v2.0+ */\n\nexport default function AvatarGroupsWithAction({ commentList }) {\n  const [toggleViewAll, setToggleViewAll] = useState(false);\n  const [isShowTips, setIsShowTips] = useState(false);\n  const [selectedId, setSelectedId] = useState(0);\n  const [isLoaded, setIsLoaded] = useRecoilState(atomIsLoaded);\n\n  const dispatch = useDispatch();\n\n  const handleDelete = (idx) => {\n    dispatch(deleteComment(idx));\n  };\n  const handleViewAll = () => {\n    setToggleViewAll((prev) => !prev);\n  };\n  useEffect(() => {\n    if (!toggleViewAll) window.scrollTo(0, 0);\n  }, [toggleViewAll]);\n  const handleMore = (type, id) => {\n    setIsShowTips((prev) => !prev);\n    if (type === \"enter\") setSelectedId(id);\n    else if (type === \"leave\") setSelectedId(9999);\n  };\n  return (\n    <>\n      {/* <Indicator /> */}\n      <div className=\"w-full\">\n        <div className=\"flow-root mt-6\">\n          <div style={{ marginBottom: \"10px\" }}>\n            {`comments: ${commentList.length ? commentList.length : \"0\"}`}\n          </div>\n          {commentList.length > 0 ? (\n            <ul role=\"list\" className=\"-my-5 divide-y divide-gray-200\">\n              {commentList.map((item, idx) => {\n                if (toggleViewAll || idx < 3)\n                  return (\n                    <li key={idx} className=\"py-4\">\n                      <div className=\"flex items-center space-x-4\">\n                        <div className=\"flex-shrink-0\">\n                          {item?.imageUrl ? (\n                            <img\n                              className=\"h-8 w-8 rounded-full\"\n                              src={item?.imageUrl}\n                              alt=\"\"\n                            />\n                          ) : (\n                            <img\n                              className=\"h-8 w-8 rounded-full\"\n                              style={{ backgroundColor: \"pink\" }}\n                              alt=\"\"\n                            />\n                          )}\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-base font-medium text-gray-900 truncate\">\n                            {item.name}\n                          </p>\n                          <p className=\"text-sm text-gray-500 \">{item.body}</p>\n                        </div>\n                        <div className=\"flex flex-col justify-center items-stretch h-full\">\n                          <div className=\"mb-3 inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50\">\n                            Update\n                          </div>\n                          <div\n                            onClick={() => {\n                              handleDelete(item.id);\n                            }}\n                            className=\"inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50\"\n                          >\n                            Delete\n                          </div>\n                          {/* <Popover className=\"relative\">\n                            <div\n                              onMouseEnter={() => handleMore(\"enter\", idx)}\n                              onMouseLeave={() => handleMore(\"leave\", idx)}\n                              className=\"inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50\"\n                            >\n                              More\n                            </div>\n                            <Transition\n                              as={Fragment}\n                              show={selectedId === idx && isShowTips}\n                              enter=\"transition ease-out duration-200\"\n                              enterFrom=\"opacity-0 translate-y-1\"\n                              enterTo=\"opacity-100 translate-y-0\"\n                              leave=\"transition ease-in duration-150\"\n                              leaveFrom=\"opacity-100 translate-y-0\"\n                              leaveTo=\"opacity-0 translate-y-1\"\n                            >\n                              <Popover.Panel\n                                className=\"absolute z-10 left-1/2 transform -translate-x-1/2 mt-3 px-2 w-screen max-w-xs sm:px-0\"\n                                style={{ left: \"-100px\" }}\n                              >\n                                <div className=\"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden\">\n                                  <div className=\"relative grid gap-6 bg-white px-5 py-6 sm:gap-8 sm:p-8 text-xs\">\n                                    {item.body}\n                                  </div>\n                                </div>\n                              </Popover.Panel>\n                            </Transition>\n                          </Popover> */}\n                        </div>\n                      </div>\n                    </li>\n                  );\n              })}\n            </ul>\n          ) : (\n            <FlexBox justify=\"center\" style={{ width: \"100%\" }}>\n              no comment\n            </FlexBox>\n          )}\n        </div>\n        {commentList.length > 3 && (\n          <div className=\"mt-6\">\n            <div\n              onClick={handleViewAll}\n              className=\"w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n            >\n              {toggleViewAll ? \"View less\" : \"View all\"}\n            </div>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}