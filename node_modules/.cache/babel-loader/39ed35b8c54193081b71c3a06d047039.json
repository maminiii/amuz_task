{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport ModelBasedSelectorSpec from \"./ModelBasedSelectorSpec\";\nimport idArgSelector from \"./idArgSelector\";\n\nvar MapSelectorSpec = /*#__PURE__*/function (_ModelBasedSelectorSp) {\n  _inheritsLoose(MapSelectorSpec, _ModelBasedSelectorSp);\n\n  function MapSelectorSpec(_ref) {\n    var _this;\n\n    var field = _ref.field,\n        selector = _ref.selector,\n        other = _objectWithoutProperties(_ref, [\"field\", \"selector\"]);\n\n    _this = _ModelBasedSelectorSp.call(this, other) || this;\n    _this._field = field;\n    _this._selector = selector;\n    return _this;\n  }\n\n  var _proto = MapSelectorSpec.prototype;\n\n  _proto.createResultFunc = function createResultFunc(parentSelector) {\n    var _this2 = this;\n\n    var idAttribute = this._parent.toModel.idAttribute;\n    return function (state) {\n      for (var _len = arguments.length, other = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        other[_key - 1] = arguments[_key];\n      }\n      /**\n       * The parent selector should return a ref array\n       * in case of a single ID being passed.\n       * Otherwise it should return an array of ref arrays.\n       */\n\n\n      var parentResult = parentSelector.apply(void 0, [state].concat(other));\n      var idArg = idArgSelector.apply(void 0, [state].concat(other));\n\n      var single = function single(refArray) {\n        if (refArray === null) {\n          // an intermediate field could not be resolved\n          return null;\n        }\n\n        return refArray.map(function (ref) {\n          return _this2._selector(state, ref[idAttribute]);\n        });\n      };\n\n      if (typeof idArg === \"undefined\" || Array.isArray(idArg)) {\n        return parentResult.map(single);\n      }\n\n      return single(parentResult);\n    };\n  };\n\n  _createClass(MapSelectorSpec, [{\n    key: \"selector\",\n    get: function get() {\n      return this._selector;\n    },\n    set: function set(selector) {\n      this._selector = selector;\n    }\n  }, {\n    key: \"key\",\n    get: function get() {\n      return this._selector;\n    }\n  }]);\n\n  return MapSelectorSpec;\n}(ModelBasedSelectorSpec);\n\nexport { MapSelectorSpec as default };","map":{"version":3,"names":["_objectWithoutProperties","_createClass","_inheritsLoose","ModelBasedSelectorSpec","idArgSelector","MapSelectorSpec","_ModelBasedSelectorSp","_ref","_this","field","selector","other","call","_field","_selector","_proto","prototype","createResultFunc","parentSelector","_this2","idAttribute","_parent","toModel","state","_len","arguments","length","Array","_key","parentResult","apply","concat","idArg","single","refArray","map","ref","isArray","key","get","set","default"],"sources":["/Users/developer/task/task3/node_modules/redux-orm/es/selectors/MapSelectorSpec.js"],"sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport ModelBasedSelectorSpec from \"./ModelBasedSelectorSpec\";\nimport idArgSelector from \"./idArgSelector\";\n\nvar MapSelectorSpec = /*#__PURE__*/function (_ModelBasedSelectorSp) {\n  _inheritsLoose(MapSelectorSpec, _ModelBasedSelectorSp);\n\n  function MapSelectorSpec(_ref) {\n    var _this;\n\n    var field = _ref.field,\n        selector = _ref.selector,\n        other = _objectWithoutProperties(_ref, [\"field\", \"selector\"]);\n\n    _this = _ModelBasedSelectorSp.call(this, other) || this;\n    _this._field = field;\n    _this._selector = selector;\n    return _this;\n  }\n\n  var _proto = MapSelectorSpec.prototype;\n\n  _proto.createResultFunc = function createResultFunc(parentSelector) {\n    var _this2 = this;\n\n    var idAttribute = this._parent.toModel.idAttribute;\n    return function (state) {\n      for (var _len = arguments.length, other = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        other[_key - 1] = arguments[_key];\n      }\n\n      /**\n       * The parent selector should return a ref array\n       * in case of a single ID being passed.\n       * Otherwise it should return an array of ref arrays.\n       */\n      var parentResult = parentSelector.apply(void 0, [state].concat(other));\n      var idArg = idArgSelector.apply(void 0, [state].concat(other));\n\n      var single = function single(refArray) {\n        if (refArray === null) {\n          // an intermediate field could not be resolved\n          return null;\n        }\n\n        return refArray.map(function (ref) {\n          return _this2._selector(state, ref[idAttribute]);\n        });\n      };\n\n      if (typeof idArg === \"undefined\" || Array.isArray(idArg)) {\n        return parentResult.map(single);\n      }\n\n      return single(parentResult);\n    };\n  };\n\n  _createClass(MapSelectorSpec, [{\n    key: \"selector\",\n    get: function get() {\n      return this._selector;\n    },\n    set: function set(selector) {\n      this._selector = selector;\n    }\n  }, {\n    key: \"key\",\n    get: function get() {\n      return this._selector;\n    }\n  }]);\n\n  return MapSelectorSpec;\n}(ModelBasedSelectorSpec);\n\nexport { MapSelectorSpec as default };"],"mappings":"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"},"metadata":{},"sourceType":"module"}