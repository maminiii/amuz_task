{"ast":null,"code":"import { createAction } from \"@reduxjs/toolkit\";\nimport Model, { attr, fk } from \"redux-orm\"; // =====ACTIONS=====\n\nexport const createComment = createAction(\"models/comments/create\");\nexport const deleteComment = createAction(\"models/comments/delete\");\nexport const updateComment = createAction(\"models/comments/update\"); // =====MODEL=====\n\nexport class Comment extends Model {\n  static get fields() {\n    return {\n      id: attr(),\n      postId: fk({\n        to: \"Post\",\n        as: \"post\",\n        relatedName: \"comments\"\n      }),\n      email: attr(),\n      body: attr(),\n      name: attr()\n    };\n  }\n\n  static reducer(_ref, Comment, session) {\n    let {\n      type,\n      payload\n    } = _ref;\n    let comment;\n\n    switch (type) {\n      case createComment.type:\n        {\n          console.log(\"##comment payload\", payload);\n\n          if (!payload.body || !payload.postId) {\n            console.warn(\"Unable to create a comment with no body or post\", payload);\n          } else {\n            Comment.upsert(payload);\n          }\n\n          break;\n        }\n\n      case updateComment.type:\n        {\n          if (!payload.body || !payload.postId) {\n            console.warn(\"Unable to update a comment with no body or post\", payload);\n          } else {\n            comment = Comment.withId(payload.id);\n            comment.update(payload);\n          }\n\n          break;\n        }\n\n      case deleteComment.type:\n        {\n          let comment = Comment.withId(payload);\n          comment.delete();\n          break;\n        }\n\n      default:\n        break;\n    }\n  }\n\n}\nComment.modelName = \"Comment\";","map":{"version":3,"names":["createAction","Model","attr","fk","createComment","deleteComment","updateComment","Comment","fields","id","postId","to","as","relatedName","email","body","name","reducer","session","type","payload","comment","console","log","warn","upsert","withId","update","delete","modelName"],"sources":["/Users/developer/task/task3/src/store/modelDucks/Comment.js"],"sourcesContent":["import { createAction } from \"@reduxjs/toolkit\";\nimport Model, { attr, fk } from \"redux-orm\";\n\n// =====ACTIONS=====\nexport const createComment = createAction(\"models/comments/create\");\nexport const deleteComment = createAction(\"models/comments/delete\");\nexport const updateComment = createAction(\"models/comments/update\");\n\n// =====MODEL=====\nexport class Comment extends Model {\n  static modelName = \"Comment\";\n\n  static get fields() {\n    return {\n      id: attr(),\n      postId: fk({\n        to: \"Post\",\n        as: \"post\",\n        relatedName: \"comments\",\n      }),\n      email: attr(),\n      body: attr(),\n      name: attr(),\n    };\n  }\n\n  static reducer({ type, payload }, Comment, session) {\n    let comment;\n    switch (type) {\n      case createComment.type: {\n        console.log(\"##comment payload\", payload);\n        if (!payload.body || !payload.postId) {\n          console.warn(\n            \"Unable to create a comment with no body or post\",\n            payload\n          );\n        } else {\n          Comment.upsert(payload);\n        }\n        break;\n      }\n      case updateComment.type: {\n        if (!payload.body || !payload.postId) {\n          console.warn(\n            \"Unable to update a comment with no body or post\",\n            payload\n          );\n        } else {\n          comment = Comment.withId(payload.id);\n\n          comment.update(payload);\n        }\n        break;\n      }\n      case deleteComment.type: {\n        let comment = Comment.withId(payload);\n        comment.delete();\n        break;\n      }\n      default:\n        break;\n    }\n  }\n}\n"],"mappings":"AAAA,SAASA,YAAT,QAA6B,kBAA7B;AACA,OAAOC,KAAP,IAAgBC,IAAhB,EAAsBC,EAAtB,QAAgC,WAAhC,C,CAEA;;AACA,OAAO,MAAMC,aAAa,GAAGJ,YAAY,CAAC,wBAAD,CAAlC;AACP,OAAO,MAAMK,aAAa,GAAGL,YAAY,CAAC,wBAAD,CAAlC;AACP,OAAO,MAAMM,aAAa,GAAGN,YAAY,CAAC,wBAAD,CAAlC,C,CAEP;;AACA,OAAO,MAAMO,OAAN,SAAsBN,KAAtB,CAA4B;EAGhB,WAANO,MAAM,GAAG;IAClB,OAAO;MACLC,EAAE,EAAEP,IAAI,EADH;MAELQ,MAAM,EAAEP,EAAE,CAAC;QACTQ,EAAE,EAAE,MADK;QAETC,EAAE,EAAE,MAFK;QAGTC,WAAW,EAAE;MAHJ,CAAD,CAFL;MAOLC,KAAK,EAAEZ,IAAI,EAPN;MAQLa,IAAI,EAAEb,IAAI,EARL;MASLc,IAAI,EAAEd,IAAI;IATL,CAAP;EAWD;;EAEa,OAAPe,OAAO,OAAoBV,OAApB,EAA6BW,OAA7B,EAAsC;IAAA,IAArC;MAAEC,IAAF;MAAQC;IAAR,CAAqC;IAClD,IAAIC,OAAJ;;IACA,QAAQF,IAAR;MACE,KAAKf,aAAa,CAACe,IAAnB;QAAyB;UACvBG,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCH,OAAjC;;UACA,IAAI,CAACA,OAAO,CAACL,IAAT,IAAiB,CAACK,OAAO,CAACV,MAA9B,EAAsC;YACpCY,OAAO,CAACE,IAAR,CACE,iDADF,EAEEJ,OAFF;UAID,CALD,MAKO;YACLb,OAAO,CAACkB,MAAR,CAAeL,OAAf;UACD;;UACD;QACD;;MACD,KAAKd,aAAa,CAACa,IAAnB;QAAyB;UACvB,IAAI,CAACC,OAAO,CAACL,IAAT,IAAiB,CAACK,OAAO,CAACV,MAA9B,EAAsC;YACpCY,OAAO,CAACE,IAAR,CACE,iDADF,EAEEJ,OAFF;UAID,CALD,MAKO;YACLC,OAAO,GAAGd,OAAO,CAACmB,MAAR,CAAeN,OAAO,CAACX,EAAvB,CAAV;YAEAY,OAAO,CAACM,MAAR,CAAeP,OAAf;UACD;;UACD;QACD;;MACD,KAAKf,aAAa,CAACc,IAAnB;QAAyB;UACvB,IAAIE,OAAO,GAAGd,OAAO,CAACmB,MAAR,CAAeN,OAAf,CAAd;UACAC,OAAO,CAACO,MAAR;UACA;QACD;;MACD;QACE;IAhCJ;EAkCD;;AArDgC;AAAtBrB,O,CACJsB,S,GAAY,S"},"metadata":{},"sourceType":"module"}