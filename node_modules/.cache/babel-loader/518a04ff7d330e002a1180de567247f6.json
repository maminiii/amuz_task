{"ast":null,"code":"var _jsxFileName = \"/Users/developer/task/task3/src/screen/DetailView.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useLayoutEffect, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useRecoilState } from \"recoil\";\nimport styled from \"styled-components\";\nimport { atomCommentList, atomIsLoaded } from \"../data/atoms\";\nimport AvatarGroupWithAction from \"../components/AvatarGroupsWithAction\";\nimport Description from \"../components/Description\";\nimport FlexBox from \"../components/FlexBox\";\nimport Header from \"../components/Header\";\nimport ListItemCard from \"../components/ListItemCard\";\nimport TextAreaWithAvatar from \"../components/TextAreaWithAvatar\";\nimport { configureStore } from \"@reduxjs/toolkit\";\nimport { useSelector } from \"react-redux\";\nimport { reducer as currentPostReducer } from \"../store/ducks/currentPost\";\nimport { createComment } from \"../store/modelDucks/Comment\";\nimport { commentsSelector } from \"../store/modelDucks/CommentSelectors\";\nimport { userPostsSelector } from \"../store/modelDucks/PostSelectors\";\nimport { reducer as ormReducer } from \"../store/orm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst store = configureStore({\n  reducer: {\n    orm: ormReducer,\n    currentPost: currentPostReducer\n  }\n});\nconst LinkArrow = styled(Link)`\n  position: absolute;\n  ${props => props.type === \"left\" ? `left:0` : `right:0`};\n  text-decoration: none;\n  opacity: 0;\n  height: 100%;\n  &:hover {\n    opacity: 1;\n    background-color: rgba(196, 196, 196, 0.1);\n    &.none {\n      opacity: 0;\n    }\n  }\n  &.none {\n    cursor: not-allowed;\n    pointer-events: none;\n  }\n`;\n_c = LinkArrow;\nconst LinkContainer = styled(Link)`\n  text-decoration: none;\n  width: 90%;\n  margin: 10px;\n  &:hover {\n    &.none {\n      color: red;\n    }\n  }\n  &.none {\n    cursor: not-allowed;\n    pointer-events: none;\n  }\n`;\n_c2 = LinkContainer;\nconst PostPageContainer = styled.div`\n  height: 100%;\n`;\n_c3 = PostPageContainer;\nconst NavContainer = styled.div`\n  color: gray;\n  font-size: 50px;\n  margin: 0 10px;\n  background-color: rgba(255, 255, 255, 0.3);\n  border-radius: 100%;\n`;\n_c4 = NavContainer;\nconst PostContainer = styled.div``;\n_c5 = PostContainer;\nconst PreviewContainer = styled(FlexBox).attrs({\n  justify: \"center\"\n})`\n  width: 100%;\n  margin-top: 50px;\n`;\n_c6 = PreviewContainer;\nconst NavLabel = styled.div`\n  width: 100%;\n  color: gray;\n  text-align: center;\n`;\n_c7 = NavLabel;\n\nconst DetailView = () => {\n  _s();\n\n  const {\n    userId,\n    itemId\n  } = useParams();\n  const itemIdx = Number(itemId);\n  const currentPostList = useSelector(state => userPostsSelector(state, userId));\n  const [isLoaded, setIsLoaded] = useRecoilState(atomIsLoaded);\n  const [post, setPost] = useState({});\n  const [prevPost, setPrevPost] = useState({});\n  const [nextPost, setNextPost] = useState({});\n  const [commentList, setCommentList] = useRecoilState(atomCommentList(itemId));\n  const comments = useSelector(commentsSelector);\n  console.log(\"##comments\", comments); // const fetchComments = () => {\n  //   setIsLoaded(true);\n  //   axios\n  //     .get(`https://jsonplaceholder.typicode.com/comments?postId=${itemId}`)\n  //     .then((res) => {\n  //       setCommentList(res.data);\n  //     })\n  //     .catch((err) => {\n  //       console.log(\"##fetchComments err\", err);\n  //     })\n  //     .finally(() => {\n  //       setIsLoaded(false);\n  //     });\n  // };\n\n  const fetchComment = async itemId => {\n    try {\n      const commentRes = await axios.get(`https://jsonplaceholder.typicode.com/comments?postId=${itemId}`);\n      const commentList = commentRes.data;\n      commentList.forEach((comment, idx) => {\n        store.dispatch(createComment({\n          id: idx + 1,\n          postId: comment.postId,\n          body: comment.body,\n          email: comment.email,\n          name: comment.name\n        }));\n      });\n    } catch (e) {\n      console.log(\"##error\", e);\n    }\n  };\n\n  useLayoutEffect(() => {\n    if (commentList.body === \"\") {\n      fetchComment(itemIdx);\n    }\n  }, [commentList]);\n  useLayoutEffect(() => {\n    setPost(setNewPost(itemIdx));\n  }, [currentPostList]);\n  useLayoutEffect(() => {\n    if (currentPostList) {\n      if (post.postId === 0) {\n        setPrevPost({\n          empty: true\n        });\n        setNextPost(setNewPost(itemIdx + 1));\n      } else if (post.postId === currentPostList.length - 1) {\n        setPrevPost(setNewPost(itemIdx - 1));\n        setNextPost({\n          empty: true\n        });\n      } else {\n        setPrevPost(setNewPost(itemIdx - 1));\n        setNextPost(setNewPost(itemIdx + 1));\n      }\n    }\n  }, [post]);\n\n  const setNewPost = _itemId => {\n    let temp;\n    if (Array.isArray(currentPostList) && currentPostList.length > 0) currentPostList.forEach(item => {\n      if (Number(item.id) === _itemId) temp = item;\n    });\n    return { ...temp\n    };\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: `Post-Detail #${itemId}`,\n      subtitle: ``\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PostPageContainer, {\n      children: /*#__PURE__*/_jsxDEV(FlexBox, {\n        direction: \"column\",\n        children: /*#__PURE__*/_jsxDEV(PostContainer, {\n          children: /*#__PURE__*/_jsxDEV(FlexBox, {\n            direction: \"row\",\n            align: \"flex-start\",\n            style: {\n              overflow: \"hidden\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(FlexBox, {\n              direction: \"column\",\n              style: {\n                flexBasis: \"60%\",\n                padding: \"20px 24px\",\n                height: \"100%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(FlexBox, {\n                align: \"flex-start\",\n                style: {\n                  position: \"relative\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(LinkArrow, {\n                  type: \"left\",\n                  className: prevPost !== null && prevPost !== void 0 && prevPost.empty ? \"none\" : \"\",\n                  to: `/postlist/${userId}/detailview/${itemIdx - 1}`,\n                  children: /*#__PURE__*/_jsxDEV(FlexBox, {\n                    style: {\n                      height: \"100%\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(NavContainer, {\n                      children: \"<\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Description, {\n                  title: post.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(LinkArrow, {\n                  type: \"right\",\n                  className: nextPost !== null && nextPost !== void 0 && nextPost.empty ? \"none\" : \"\",\n                  to: `/postlist/${userId}/detailview/${itemIdx + 1}`,\n                  children: /*#__PURE__*/_jsxDEV(FlexBox, {\n                    style: {\n                      height: \"100%\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(NavContainer, {\n                      children: \">\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(PreviewContainer, {\n                children: [/*#__PURE__*/_jsxDEV(FlexBox, {\n                  direction: \"column\",\n                  style: {\n                    width: \"100%\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(NavLabel, {\n                    children: \"Prev\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n                    className: prevPost !== null && prevPost !== void 0 && prevPost.empty ? \"none\" : \"\",\n                    to: `/postlist/${userId}/detailview/${itemIdx - 1}`,\n                    children: /*#__PURE__*/_jsxDEV(ListItemCard, {\n                      style: {\n                        width: \"100%\"\n                      },\n                      item: prevPost !== null && prevPost !== void 0 && prevPost.empty ? \"no-item\" : prevPost.title,\n                      type: \"main\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(FlexBox, {\n                  direction: \"column\",\n                  style: {\n                    width: \"100%\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(NavLabel, {\n                    children: \"Next\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n                    className: nextPost !== null && nextPost !== void 0 && nextPost.empty ? \"none\" : \"\",\n                    to: `/postlist/${userId}/detailview/${itemIdx + 1}`,\n                    children: /*#__PURE__*/_jsxDEV(ListItemCard, {\n                      item: nextPost !== null && nextPost !== void 0 && nextPost.empty ? \"no-item\" : nextPost.title,\n                      type: \"main\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 237,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FlexBox, {\n              direction: \"column\",\n              style: {\n                padding: \"10px\",\n                flexBasis: \"40%\",\n                maxWidth: \"400px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(TextAreaWithAvatar, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(AvatarGroupWithAction, {\n                commentList: commentList\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(DetailView, \"GzbCqnz3ixNyZTX9E0r9/lJcDzc=\", false, function () {\n  return [useParams, useSelector, useRecoilState, useRecoilState, useSelector];\n});\n\n_c8 = DetailView;\nexport default DetailView;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"LinkArrow\");\n$RefreshReg$(_c2, \"LinkContainer\");\n$RefreshReg$(_c3, \"PostPageContainer\");\n$RefreshReg$(_c4, \"NavContainer\");\n$RefreshReg$(_c5, \"PostContainer\");\n$RefreshReg$(_c6, \"PreviewContainer\");\n$RefreshReg$(_c7, \"NavLabel\");\n$RefreshReg$(_c8, \"DetailView\");","map":{"version":3,"names":["axios","React","useLayoutEffect","useState","Link","useParams","useRecoilState","styled","atomCommentList","atomIsLoaded","AvatarGroupWithAction","Description","FlexBox","Header","ListItemCard","TextAreaWithAvatar","configureStore","useSelector","reducer","currentPostReducer","createComment","commentsSelector","userPostsSelector","ormReducer","store","orm","currentPost","LinkArrow","props","type","LinkContainer","PostPageContainer","div","NavContainer","PostContainer","PreviewContainer","attrs","justify","NavLabel","DetailView","userId","itemId","itemIdx","Number","currentPostList","state","isLoaded","setIsLoaded","post","setPost","prevPost","setPrevPost","nextPost","setNextPost","commentList","setCommentList","comments","console","log","fetchComment","commentRes","get","data","forEach","comment","idx","dispatch","id","postId","body","email","name","e","setNewPost","empty","length","_itemId","temp","Array","isArray","item","overflow","flexBasis","padding","height","position","title","width","maxWidth"],"sources":["/Users/developer/task/task3/src/screen/DetailView.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useLayoutEffect, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useRecoilState } from \"recoil\";\nimport styled from \"styled-components\";\nimport { atomCommentList, atomIsLoaded } from \"../data/atoms\";\n\nimport AvatarGroupWithAction from \"../components/AvatarGroupsWithAction\";\nimport Description from \"../components/Description\";\nimport FlexBox from \"../components/FlexBox\";\nimport Header from \"../components/Header\";\nimport ListItemCard from \"../components/ListItemCard\";\nimport TextAreaWithAvatar from \"../components/TextAreaWithAvatar\";\n\nimport { configureStore } from \"@reduxjs/toolkit\";\nimport { useSelector } from \"react-redux\";\nimport { reducer as currentPostReducer } from \"../store/ducks/currentPost\";\nimport { createComment } from \"../store/modelDucks/Comment\";\nimport { commentsSelector } from \"../store/modelDucks/CommentSelectors\";\nimport { userPostsSelector } from \"../store/modelDucks/PostSelectors\";\nimport { reducer as ormReducer } from \"../store/orm\";\n\nconst store = configureStore({\n  reducer: {\n    orm: ormReducer,\n    currentPost: currentPostReducer,\n  },\n});\n\nconst LinkArrow = styled(Link)`\n  position: absolute;\n  ${(props) => (props.type === \"left\" ? `left:0` : `right:0`)};\n  text-decoration: none;\n  opacity: 0;\n  height: 100%;\n  &:hover {\n    opacity: 1;\n    background-color: rgba(196, 196, 196, 0.1);\n    &.none {\n      opacity: 0;\n    }\n  }\n  &.none {\n    cursor: not-allowed;\n    pointer-events: none;\n  }\n`;\n\nconst LinkContainer = styled(Link)`\n  text-decoration: none;\n  width: 90%;\n  margin: 10px;\n  &:hover {\n    &.none {\n      color: red;\n    }\n  }\n  &.none {\n    cursor: not-allowed;\n    pointer-events: none;\n  }\n`;\n\nconst PostPageContainer = styled.div`\n  height: 100%;\n`;\n\nconst NavContainer = styled.div`\n  color: gray;\n  font-size: 50px;\n  margin: 0 10px;\n  background-color: rgba(255, 255, 255, 0.3);\n  border-radius: 100%;\n`;\n\nconst PostContainer = styled.div``;\n\nconst PreviewContainer = styled(FlexBox).attrs({\n  justify: \"center\",\n})`\n  width: 100%;\n  margin-top: 50px;\n`;\nconst NavLabel = styled.div`\n  width: 100%;\n  color: gray;\n  text-align: center;\n`;\n\nconst DetailView = () => {\n  const { userId, itemId } = useParams();\n  const itemIdx = Number(itemId);\n\n  const currentPostList = useSelector((state) =>\n    userPostsSelector(state, userId)\n  );\n  const [isLoaded, setIsLoaded] = useRecoilState(atomIsLoaded);\n  const [post, setPost] = useState({});\n  const [prevPost, setPrevPost] = useState({});\n  const [nextPost, setNextPost] = useState({});\n  const [commentList, setCommentList] = useRecoilState(atomCommentList(itemId));\n\n  const comments = useSelector(commentsSelector);\n  console.log(\"##comments\", comments);\n\n  // const fetchComments = () => {\n  //   setIsLoaded(true);\n  //   axios\n  //     .get(`https://jsonplaceholder.typicode.com/comments?postId=${itemId}`)\n  //     .then((res) => {\n  //       setCommentList(res.data);\n  //     })\n  //     .catch((err) => {\n  //       console.log(\"##fetchComments err\", err);\n  //     })\n  //     .finally(() => {\n  //       setIsLoaded(false);\n  //     });\n  // };\n  const fetchComment = async (itemId) => {\n    try {\n      const commentRes = await axios.get(\n        `https://jsonplaceholder.typicode.com/comments?postId=${itemId}`\n      );\n      const commentList = commentRes.data;\n      commentList.forEach((comment, idx) => {\n        store.dispatch(\n          createComment({\n            id: idx + 1,\n            postId: comment.postId,\n            body: comment.body,\n            email: comment.email,\n            name: comment.name,\n          })\n        );\n      });\n    } catch (e) {\n      console.log(\"##error\", e);\n    }\n  };\n  useLayoutEffect(() => {\n    if (commentList.body === \"\") {\n      fetchComment(itemIdx);\n    }\n  }, [commentList]);\n\n  useLayoutEffect(() => {\n    setPost(setNewPost(itemIdx));\n  }, [currentPostList]);\n\n  useLayoutEffect(() => {\n    if (currentPostList) {\n      if (post.postId === 0) {\n        setPrevPost({ empty: true });\n        setNextPost(setNewPost(itemIdx + 1));\n      } else if (post.postId === currentPostList.length - 1) {\n        setPrevPost(setNewPost(itemIdx - 1));\n        setNextPost({ empty: true });\n      } else {\n        setPrevPost(setNewPost(itemIdx - 1));\n        setNextPost(setNewPost(itemIdx + 1));\n      }\n    }\n  }, [post]);\n\n  const setNewPost = (_itemId) => {\n    let temp;\n    if (Array.isArray(currentPostList) && currentPostList.length > 0)\n      currentPostList.forEach((item) => {\n        if (Number(item.id) === _itemId) temp = item;\n      });\n    return { ...temp };\n  };\n\n  return (\n    <>\n      <Header title={`Post-Detail #${itemId}`} subtitle={``} />\n      <PostPageContainer>\n        <FlexBox direction=\"column\">\n          <PostContainer>\n            <FlexBox\n              direction=\"row\"\n              align=\"flex-start\"\n              style={{ overflow: \"hidden\" }}\n            >\n              <FlexBox\n                direction=\"column\"\n                style={{\n                  flexBasis: \"60%\",\n                  padding: \"20px 24px\",\n                  height: \"100%\",\n                }}\n              >\n                <FlexBox align=\"flex-start\" style={{ position: \"relative\" }}>\n                  <LinkArrow\n                    type=\"left\"\n                    className={prevPost?.empty ? \"none\" : \"\"}\n                    to={`/postlist/${userId}/detailview/${itemIdx - 1}`}\n                  >\n                    <FlexBox style={{ height: \"100%\" }}>\n                      <NavContainer>{\"<\"}</NavContainer>\n                    </FlexBox>\n                  </LinkArrow>\n                  <Description title={post.title} />\n\n                  <LinkArrow\n                    type=\"right\"\n                    className={nextPost?.empty ? \"none\" : \"\"}\n                    to={`/postlist/${userId}/detailview/${itemIdx + 1}`}\n                  >\n                    <FlexBox style={{ height: \"100%\" }}>\n                      <NavContainer>{\">\"}</NavContainer>\n                    </FlexBox>\n                  </LinkArrow>\n                </FlexBox>\n                <PreviewContainer>\n                  <FlexBox direction=\"column\" style={{ width: \"100%\" }}>\n                    <NavLabel>{\"Prev\"}</NavLabel>\n                    <LinkContainer\n                      className={prevPost?.empty ? \"none\" : \"\"}\n                      to={`/postlist/${userId}/detailview/${itemIdx - 1}`}\n                    >\n                      <ListItemCard\n                        style={{ width: \"100%\" }}\n                        item={prevPost?.empty ? \"no-item\" : prevPost.title}\n                        type=\"main\"\n                      ></ListItemCard>\n                    </LinkContainer>\n                  </FlexBox>\n\n                  <FlexBox direction=\"column\" style={{ width: \"100%\" }}>\n                    <NavLabel>{\"Next\"}</NavLabel>\n                    <LinkContainer\n                      className={nextPost?.empty ? \"none\" : \"\"}\n                      to={`/postlist/${userId}/detailview/${itemIdx + 1}`}\n                    >\n                      <ListItemCard\n                        item={nextPost?.empty ? \"no-item\" : nextPost.title}\n                        type=\"main\"\n                      ></ListItemCard>\n                    </LinkContainer>\n                  </FlexBox>\n                </PreviewContainer>\n              </FlexBox>\n\n              <FlexBox\n                direction=\"column\"\n                style={{ padding: \"10px\", flexBasis: \"40%\", maxWidth: \"400px\" }}\n              >\n                <TextAreaWithAvatar />\n                <AvatarGroupWithAction commentList={commentList} />\n              </FlexBox>\n            </FlexBox>\n          </PostContainer>\n        </FlexBox>\n      </PostPageContainer>\n    </>\n  );\n};\nexport default DetailView;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}