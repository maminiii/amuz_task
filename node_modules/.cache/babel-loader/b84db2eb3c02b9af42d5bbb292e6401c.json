{"ast":null,"code":"import { createAction } from \"@reduxjs/toolkit\";\nimport Model, { attr, fk } from \"redux-orm\"; // =====ACTIONS=====\n\nexport const createPost = createAction(\"models/posts/create\");\nexport const deletePost = createAction(\"models/posts/delete\"); // =====MODEL=====\n\nexport class Post extends Model {\n  static get fields() {\n    return {\n      id: attr(),\n      content: attr(),\n      user: fk(\"User\", \"posts\")\n    };\n  }\n\n  static reducer(_ref, Post, session) {\n    let {\n      type,\n      payload\n    } = _ref;\n\n    switch (type) {\n      case createPost.type:\n        {\n          if (!payload.content || !payload.user) {\n            console.warn(\"Unable to create a post with no content or user\");\n          } else {\n            Post.upsert(payload);\n          }\n\n          break;\n        }\n\n      case deletePost.type:\n        {\n          let post = Post.withId(payload);\n          post.delete();\n          break;\n        }\n\n      default:\n        break;\n    }\n  }\n\n}\nPost.modelName = \"Post\";","map":{"version":3,"names":["createAction","Model","attr","fk","createPost","deletePost","Post","fields","id","content","user","reducer","session","type","payload","console","warn","upsert","post","withId","delete","modelName"],"sources":["/Users/developer/task/task3/src/store/modelDucks/Post.js"],"sourcesContent":["import { createAction } from \"@reduxjs/toolkit\";\nimport Model, { attr, fk } from \"redux-orm\";\n\n// =====ACTIONS=====\nexport const createPost = createAction(\"models/posts/create\");\nexport const deletePost = createAction(\"models/posts/delete\");\n\n// =====MODEL=====\nexport class Post extends Model {\n  static modelName = \"Post\";\n\n  static get fields() {\n    return {\n      id: attr(),\n      content: attr(),\n      user: fk(\"User\", \"posts\"),\n    };\n  }\n\n  static reducer({ type, payload }, Post, session) {\n    switch (type) {\n      case createPost.type: {\n        if (!payload.content || !payload.user) {\n          console.warn(\"Unable to create a post with no content or user\");\n        } else {\n          Post.upsert(payload);\n        }\n        break;\n      }\n      case deletePost.type: {\n        let post = Post.withId(payload);\n        post.delete();\n        break;\n      }\n      default:\n        break;\n    }\n  }\n}\n"],"mappings":"AAAA,SAASA,YAAT,QAA6B,kBAA7B;AACA,OAAOC,KAAP,IAAgBC,IAAhB,EAAsBC,EAAtB,QAAgC,WAAhC,C,CAEA;;AACA,OAAO,MAAMC,UAAU,GAAGJ,YAAY,CAAC,qBAAD,CAA/B;AACP,OAAO,MAAMK,UAAU,GAAGL,YAAY,CAAC,qBAAD,CAA/B,C,CAEP;;AACA,OAAO,MAAMM,IAAN,SAAmBL,KAAnB,CAAyB;EAGb,WAANM,MAAM,GAAG;IAClB,OAAO;MACLC,EAAE,EAAEN,IAAI,EADH;MAELO,OAAO,EAAEP,IAAI,EAFR;MAGLQ,IAAI,EAAEP,EAAE,CAAC,MAAD,EAAS,OAAT;IAHH,CAAP;EAKD;;EAEa,OAAPQ,OAAO,OAAoBL,IAApB,EAA0BM,OAA1B,EAAmC;IAAA,IAAlC;MAAEC,IAAF;MAAQC;IAAR,CAAkC;;IAC/C,QAAQD,IAAR;MACE,KAAKT,UAAU,CAACS,IAAhB;QAAsB;UACpB,IAAI,CAACC,OAAO,CAACL,OAAT,IAAoB,CAACK,OAAO,CAACJ,IAAjC,EAAuC;YACrCK,OAAO,CAACC,IAAR,CAAa,iDAAb;UACD,CAFD,MAEO;YACLV,IAAI,CAACW,MAAL,CAAYH,OAAZ;UACD;;UACD;QACD;;MACD,KAAKT,UAAU,CAACQ,IAAhB;QAAsB;UACpB,IAAIK,IAAI,GAAGZ,IAAI,CAACa,MAAL,CAAYL,OAAZ,CAAX;UACAI,IAAI,CAACE,MAAL;UACA;QACD;;MACD;QACE;IAfJ;EAiBD;;AA7B6B;AAAnBd,I,CACJe,S,GAAY,M"},"metadata":{},"sourceType":"module"}