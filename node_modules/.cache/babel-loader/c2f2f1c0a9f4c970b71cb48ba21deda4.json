{"ast":null,"code":"var _jsxFileName = \"/Users/developer/task/task/src/screen/MainPage.js\",\n    _s = $RefreshSig$();\n\nimport styled, { createGlobalStyle } from \"styled-components\";\nimport axios from \"axios\";\nimport React, { useEffect, useLayoutEffect, useState } from \"react\";\nimport ListItemCard from \"../components/ListItemCard\";\nimport { atomIsLoaded } from \"../data/atoms\";\nimport Indicator from \"../components/Indicator\";\nimport { atom, useRecoilState } from \"recoil\";\nimport Header from \"../components/Header\";\nimport GridList from \"../components/GridList\";\nimport { atomUserList, atomPostList, atomNeedUpdate } from \"../data/atoms\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ListItemsContainer = styled.ul`\n    padding: 0;\n`;\n_c = ListItemsContainer;\n\nconst MainPage = () => {\n  _s();\n\n  //https://jsonplaceholder.typicode.com/todos\n  const [users, setUsers] = useRecoilState(atomUserList);\n  const [posts, setPosts] = useRecoilState(atomPostList);\n  const [isLoaded, setIsLoaded] = useRecoilState(atomIsLoaded);\n  const [needUpdate, setNeedUpdate] = useRecoilState(atomNeedUpdate);\n\n  const fetchData = async () => {\n    try {\n      const userRes = await axios.get(\"https://jsonplaceholder.typicode.com/users\");\n      const res = await axios.get(\"https://jsonplaceholder.typicode.com/todos\");\n      const userList = userRes.data;\n      let postList = userList.map(userId => {\n        let newArr = [];\n        let i = 0;\n        res.data.forEach(item => {\n          if (item.userId === userId.id) {\n            newArr.push({\n              id: item.id,\n              postId: i,\n              title: item.title,\n              completed: item.completed\n            });\n            i++;\n          }\n        });\n        return newArr;\n      });\n      setUsers(userList);\n      setPosts(postList);\n      window.localStorage.setItem(\"postList\", JSON.stringify(postList));\n      setIsLoaded(false);\n      setNeedUpdate(false);\n    } catch (e) {\n      console.log(\"##error\", e);\n    }\n  };\n\n  useLayoutEffect(() => {\n    //console.log(\"##needUpdate\", needUpdate);\n    //if (needUpdate) setIsLoaded(true);\n    setIsLoaded(true);\n  }, [needUpdate]);\n  useLayoutEffect(() => {\n    if (isLoaded) fetchData(isLoaded);\n  }, [isLoaded]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Indicator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Header, {\n      title: \"User-List\",\n      subtitle: `Number of Users: ${users.length}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ListItemsContainer, {\n      children: /*#__PURE__*/_jsxDEV(GridList, {\n        people: users\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MainPage, \"G10Z0Q5U9bXBoNI/LHKeSPVzrDA=\", false, function () {\n  return [useRecoilState, useRecoilState, useRecoilState, useRecoilState];\n});\n\n_c2 = MainPage;\nexport default MainPage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ListItemsContainer\");\n$RefreshReg$(_c2, \"MainPage\");","map":{"version":3,"names":["styled","createGlobalStyle","axios","React","useEffect","useLayoutEffect","useState","ListItemCard","atomIsLoaded","Indicator","atom","useRecoilState","Header","GridList","atomUserList","atomPostList","atomNeedUpdate","ListItemsContainer","ul","MainPage","users","setUsers","posts","setPosts","isLoaded","setIsLoaded","needUpdate","setNeedUpdate","fetchData","userRes","get","res","userList","data","postList","map","userId","newArr","i","forEach","item","id","push","postId","title","completed","window","localStorage","setItem","JSON","stringify","e","console","log","length"],"sources":["/Users/developer/task/task/src/screen/MainPage.js"],"sourcesContent":["import styled, { createGlobalStyle } from \"styled-components\";\nimport axios from \"axios\";\nimport React, { useEffect, useLayoutEffect, useState } from \"react\";\nimport ListItemCard from \"../components/ListItemCard\";\nimport { atomIsLoaded } from \"../data/atoms\";\nimport Indicator from \"../components/Indicator\";\n\nimport { atom, useRecoilState } from \"recoil\";\nimport Header from \"../components/Header\";\nimport GridList from \"../components/GridList\";\nimport { atomUserList, atomPostList, atomNeedUpdate } from \"../data/atoms\";\n\nconst ListItemsContainer = styled.ul`\n    padding: 0;\n`;\n\nconst MainPage = () => {\n    //https://jsonplaceholder.typicode.com/todos\n    const [users, setUsers] = useRecoilState(atomUserList);\n    const [posts, setPosts] = useRecoilState(atomPostList);\n    const [isLoaded, setIsLoaded] = useRecoilState(atomIsLoaded);\n    const [needUpdate, setNeedUpdate] = useRecoilState(atomNeedUpdate);\n\n    const fetchData = async () => {\n        try {\n            const userRes = await axios.get(\"https://jsonplaceholder.typicode.com/users\");\n\n            const res = await axios.get(\"https://jsonplaceholder.typicode.com/todos\");\n\n            const userList = userRes.data;\n            let postList = userList.map((userId) => {\n                let newArr = [];\n                let i = 0;\n                res.data.forEach((item) => {\n                    if (item.userId === userId.id) {\n                        newArr.push({\n                            id: item.id,\n                            postId: i,\n                            title: item.title,\n                            completed: item.completed,\n                        });\n                        i++;\n                    }\n                });\n                return newArr;\n            });\n            setUsers(userList);\n            setPosts(postList);\n            window.localStorage.setItem(\"postList\", JSON.stringify(postList));\n\n            setIsLoaded(false);\n            setNeedUpdate(false);\n        } catch (e) {\n            console.log(\"##error\", e);\n        }\n    };\n\n    useLayoutEffect(() => {\n        //console.log(\"##needUpdate\", needUpdate);\n        //if (needUpdate) setIsLoaded(true);\n        setIsLoaded(true);\n    }, [needUpdate]);\n\n    useLayoutEffect(() => {\n        if (isLoaded) fetchData(isLoaded);\n    }, [isLoaded]);\n\n    return (\n        <>\n            <Indicator />\n            <Header title={\"User-List\"} subtitle={`Number of Users: ${users.length}`} />\n            <ListItemsContainer>\n                {/* {users.map((user, idx) => {\n                    return (\n                        <Link to={`/postlist/${user.id}`} style={{ textDecoration: \"none\" }}>\n                            <ListItemCard item={user.name} type=\"main\"></ListItemCard>\n                        </Link>\n                    );\n                })} */}\n                <GridList people={users}></GridList>\n            </ListItemsContainer>\n        </>\n    );\n};\nexport default MainPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}