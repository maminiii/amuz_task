{"ast":null,"code":"var _jsxFileName = \"/Users/developer/task/task/src/components/AvatarGroupsWithAction.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useLayoutEffect, useState, Fragment } from \"react\";\nimport FlexBox from \"./FlexBox\";\nimport Indicator from \"./Indicator\";\nimport { atomIsLoaded } from \"../data/atoms\";\nimport { Popover, Transition } from \"@headlessui/react\";\nimport { useRecoilValue, useRecoilState, atomFamily } from \"recoil\";\n/* This example requires Tailwind CSS v2.0+ */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AvatarGroupsWithAction(_ref) {\n  _s();\n\n  let {\n    commentList\n  } = _ref;\n  const [toggleViewAll, setToggleViewAll] = useState(false);\n  const [isShowTips, setIsShowTips] = useState(false);\n  const [selectedId, setSelectedId] = useState(0);\n  const [isLoaded, setIsLoaded] = useRecoilState(atomIsLoaded);\n\n  const handleViewAll = () => {\n    setToggleViewAll(prev => !prev);\n  };\n\n  useEffect(() => {\n    if (!toggleViewAll) window.scrollTo(0, 0);\n  }, [toggleViewAll]);\n\n  const handleMore = (type, id) => {\n    setIsShowTips(prev => !prev);\n    if (type === \"enter\") setSelectedId(id);else if (type === \"leave\") setSelectedId(9999);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Indicator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flow-root mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: \"10px\"\n          },\n          children: `comments: ${commentList.length ? commentList.length : \"0\"}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }, this), commentList.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          role: \"list\",\n          className: \"-my-5 divide-y divide-gray-200\",\n          children: commentList.map((item, idx) => {\n            if (toggleViewAll || idx < 3) return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"py-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0\",\n                  children: item !== null && item !== void 0 && item.imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"h-8 w-8 rounded-full\",\n                    src: item === null || item === void 0 ? void 0 : item.imageUrl,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 42,\n                    columnNumber: 57\n                  }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"h-8 w-8 rounded-full\",\n                    style: {\n                      backgroundColor: \"pink\"\n                    },\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 48,\n                    columnNumber: 57\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 40,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 min-w-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm font-medium text-gray-900 truncate\",\n                    children: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 56,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500 truncate\",\n                    children: item.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 59,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(Popover, {\n                    className: \"relative\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      onMouseEnter: () => handleMore(\"enter\", idx),\n                      onMouseLeave: () => handleMore(\"leave\", idx),\n                      className: \"inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50\",\n                      children: \"More\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 65,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Transition, {\n                      as: Fragment,\n                      show: selectedId === idx && isShowTips,\n                      enter: \"transition ease-out duration-200\",\n                      enterFrom: \"opacity-0 translate-y-1\",\n                      enterTo: \"opacity-100 translate-y-0\",\n                      leave: \"transition ease-in duration-150\",\n                      leaveFrom: \"opacity-100 translate-y-0\",\n                      leaveTo: \"opacity-0 translate-y-1\",\n                      children: /*#__PURE__*/_jsxDEV(Popover.Panel, {\n                        className: \"absolute z-10 left-1/2 transform -translate-x-1/2 mt-3 px-2 w-screen max-w-xs sm:px-0\",\n                        style: {\n                          left: \"-200px\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"relative grid gap-6 bg-white px-5 py-6 sm:gap-8 sm:p-8\",\n                            children: item.body\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 91,\n                            columnNumber: 69\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 90,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 86,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 76,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 45\n              }, this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 41\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(FlexBox, {\n          justify: \"center\",\n          style: {\n            width: \"100%\"\n          },\n          children: \"no comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this), commentList.length > 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: handleViewAll,\n          className: \"w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",\n          children: toggleViewAll ? \"View less\" : \"View all\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AvatarGroupsWithAction, \"NGjrl7ECS8gU18Efgb1Yk+WhwcA=\", false, function () {\n  return [useRecoilState];\n});\n\n_c = AvatarGroupsWithAction;\n\nvar _c;\n\n$RefreshReg$(_c, \"AvatarGroupsWithAction\");","map":{"version":3,"names":["React","useEffect","useLayoutEffect","useState","Fragment","FlexBox","Indicator","atomIsLoaded","Popover","Transition","useRecoilValue","useRecoilState","atomFamily","AvatarGroupsWithAction","commentList","toggleViewAll","setToggleViewAll","isShowTips","setIsShowTips","selectedId","setSelectedId","isLoaded","setIsLoaded","handleViewAll","prev","window","scrollTo","handleMore","type","id","marginBottom","length","map","item","idx","imageUrl","backgroundColor","name","email","left","body","width"],"sources":["/Users/developer/task/task/src/components/AvatarGroupsWithAction.js"],"sourcesContent":["import React, { useEffect, useLayoutEffect, useState, Fragment } from \"react\";\nimport FlexBox from \"./FlexBox\";\nimport Indicator from \"./Indicator\";\nimport { atomIsLoaded } from \"../data/atoms\";\nimport { Popover, Transition } from \"@headlessui/react\";\nimport { useRecoilValue, useRecoilState, atomFamily } from \"recoil\";\n/* This example requires Tailwind CSS v2.0+ */\n\nexport default function AvatarGroupsWithAction({ commentList }) {\n    const [toggleViewAll, setToggleViewAll] = useState(false);\n    const [isShowTips, setIsShowTips] = useState(false);\n    const [selectedId, setSelectedId] = useState(0);\n    const [isLoaded, setIsLoaded] = useRecoilState(atomIsLoaded);\n    const handleViewAll = () => {\n        setToggleViewAll((prev) => !prev);\n    };\n    useEffect(() => {\n        if (!toggleViewAll) window.scrollTo(0, 0);\n    }, [toggleViewAll]);\n    const handleMore = (type, id) => {\n        setIsShowTips((prev) => !prev);\n        if (type === \"enter\") setSelectedId(id);\n        else if (type === \"leave\") setSelectedId(9999);\n    };\n    return (\n        <>\n            <Indicator />\n            <div>\n                <div className=\"flow-root mt-6\">\n                    <div style={{ marginBottom: \"10px\" }}>\n                        {`comments: ${commentList.length ? commentList.length : \"0\"}`}\n                    </div>\n                    {commentList.length > 0 ? (\n                        <ul role=\"list\" className=\"-my-5 divide-y divide-gray-200\">\n                            {commentList.map((item, idx) => {\n                                if (toggleViewAll || idx < 3)\n                                    return (\n                                        <li key={idx} className=\"py-4\">\n                                            <div className=\"flex items-center space-x-4\">\n                                                <div className=\"flex-shrink-0\">\n                                                    {item?.imageUrl ? (\n                                                        <img\n                                                            className=\"h-8 w-8 rounded-full\"\n                                                            src={item?.imageUrl}\n                                                            alt=\"\"\n                                                        />\n                                                    ) : (\n                                                        <img\n                                                            className=\"h-8 w-8 rounded-full\"\n                                                            style={{ backgroundColor: \"pink\" }}\n                                                            alt=\"\"\n                                                        />\n                                                    )}\n                                                </div>\n                                                <div className=\"flex-1 min-w-0\">\n                                                    <p className=\"text-sm font-medium text-gray-900 truncate\">\n                                                        {item.name}\n                                                    </p>\n                                                    <p className=\"text-sm text-gray-500 truncate\">\n                                                        {item.email}\n                                                    </p>\n                                                </div>\n                                                <div>\n                                                    <Popover className=\"relative\">\n                                                        <div\n                                                            onMouseEnter={() =>\n                                                                handleMore(\"enter\", idx)\n                                                            }\n                                                            onMouseLeave={() =>\n                                                                handleMore(\"leave\", idx)\n                                                            }\n                                                            className=\"inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50\"\n                                                        >\n                                                            More\n                                                        </div>\n                                                        <Transition\n                                                            as={Fragment}\n                                                            show={selectedId === idx && isShowTips}\n                                                            enter=\"transition ease-out duration-200\"\n                                                            enterFrom=\"opacity-0 translate-y-1\"\n                                                            enterTo=\"opacity-100 translate-y-0\"\n                                                            leave=\"transition ease-in duration-150\"\n                                                            leaveFrom=\"opacity-100 translate-y-0\"\n                                                            leaveTo=\"opacity-0 translate-y-1\"\n                                                        >\n                                                            <Popover.Panel\n                                                                className=\"absolute z-10 left-1/2 transform -translate-x-1/2 mt-3 px-2 w-screen max-w-xs sm:px-0\"\n                                                                style={{ left: \"-200px\" }}\n                                                            >\n                                                                <div className=\"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden\">\n                                                                    <div className=\"relative grid gap-6 bg-white px-5 py-6 sm:gap-8 sm:p-8\">\n                                                                        {item.body}\n                                                                    </div>\n                                                                </div>\n                                                            </Popover.Panel>\n                                                        </Transition>\n                                                    </Popover>\n                                                </div>\n                                            </div>\n                                        </li>\n                                    );\n                            })}\n                        </ul>\n                    ) : (\n                        <FlexBox justify=\"center\" style={{ width: \"100%\" }}>\n                            no comment\n                        </FlexBox>\n                    )}\n                </div>\n                {commentList.length > 3 && (\n                    <div className=\"mt-6\">\n                        <div\n                            onClick={handleViewAll}\n                            className=\"w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n                        >\n                            {toggleViewAll ? \"View less\" : \"View all\"}\n                        </div>\n                    </div>\n                )}\n            </div>\n        </>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}